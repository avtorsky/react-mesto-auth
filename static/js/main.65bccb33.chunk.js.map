{"version":3,"sources":["images/header/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/Spinner.js","utils/api.js","components/PopupWithForm.js","utils/constants.js","hooks/useFormValidation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/notfound/notfound.gif","components/NotFound.js","utils/auth.js","components/NavMenu.js","images/infotooltip/registration-success.svg","images/infotooltip/registration-error.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","onSignOut","history","useHistory","className","src","logo","alt","onClick","push","path","to","exact","CurrentUserContext","React","createContext","Card","card","cardOpen","onLikeCard","onDeleteCard","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","cardLike","cardLikeButtonClassName","link","name","length","Main","onEditAvatar","onEditProfile","onAddCard","onClickCard","cards","avatar","type","about","map","Footer","today","Date","getFullYear","ImagePopup","isOpen","onClose","handleEventClose","useEffect","handleEscClose","event","key","document","addEventListener","removeEventListener","target","currentTarget","Spinner","api","options","this","baseUrl","headers","res","ok","json","console","log","status","Promise","reject","statusText","fetch","method","then","_handleResponse","body","JSON","stringify","cardId","setLike","all","getUserInfo","getInitialCards","authorization","PopupWithForm","title","children","submitButtonText","onSubmit","submitDisabled","noValidate","disabled","formInputClass","validateField","validator","fieldName","Object","keys","errorKey","errorResult","reduce","acc","item","useFormValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","elem","value","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","onRender","preventDefault","id","placeholder","minLength","maxLength","required","onChange","EditAvatarPopup","onUpdateAvatar","pattern","AddPlacePopup","DeleteCardPopup","ProtectedRoute","Component","component","props","loggedIn","validationConfig","password","test","Login","handleLogin","isDisabled","setIsDisabled","formValues","setFormValues","isEmailInvalid","Boolean","isPasswordInvalid","isSubmitDisabled","isEmailValid","isPasswordValid","isInactive","handleInputChange","state","passwordValidation","emailValidation","Register","handleRegister","NotFound","error","BASE_URL","handleResponse","NavMenu","InfoTooltip","onRegister","registration","regSuccess","regError","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setIsImagePopupOpen","setCurrentUser","isLoading","setIsLoading","setCards","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isProcessing","setIsProcessing","currentCardDelete","setCurrentCardDelete","authState","setAuthState","registrationSuccess","setRegistrationSuccess","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","closeAllPopups","handleTokenCheck","token","localStorage","getItem","auth","data","catch","err","handleSignOut","removeItem","getInitialData","userData","cardsData","finally","Provider","likeCard","changeLikeCardStatus","newCard","prevCard","setItem","prevState","newUser","setUserInfo","newAvatar","setUserAvatar","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.65bccb33.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import React from 'react';\nimport logo from '../images/header/header-logo.svg';\nimport { Link, Route, Switch, useHistory } from 'react-router-dom';\n\nfunction Header({ email, onSignOut }) {\n  let history = useHistory();\n\n  function handleClick() {\n    history.push('/');\n  };\n\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"header__logo\" alt=\"На главную - Mesto Russia\" onClick={handleClick}/>\n      <>\n      <Switch>\n        <Route path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__element\">\n            Регистрация\n          </Link>\n        </Route>\n        <Route path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"header__element\">\n            Войти\n          </Link>\n        </Route>\n        <Route path=\"/\" exact>\n          <>\n            <nav className=\"header__menu\">\n              <p className=\"header__menu-element\">{email}</p>\n              <button\n                onClick={onSignOut}\n                className=\"header__menu-element header__menu-element_btn\"\n              >Выйти</button>\n            </nav>\n          </>\n        </Route>\n      </Switch>\n      </>\n    </header>\n  );\n};\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({ card, cardOpen, onLikeCard, onDeleteCard }) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `element__delete-btn ${isOwn ? 'element__delete-btn_active' : 'element__delete-btn'}`\n  );\n  const isLiked = card.likes.some(cardLike => cardLike._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `element__like-btn ${isLiked && `element__like-btn_active`}`\n  );\n\n  function handleCardClick() {\n    cardOpen(card);\n  };\n\n  function handleLikeClick() {\n    onLikeCard(card);\n  };\n\n  function handleDeleteClick() {\n    onDeleteCard(card);\n  };\n\n  return (\n    <div className=\"element\">\n      <div className={cardDeleteButtonClassName} onClick={handleDeleteClick}></div>\n      <img src={card.link} alt={`${card.name} by ${card.owner.name}`} className=\"element__photo\" onClick={handleCardClick} />\n      <div className=\"element__label\">\n        <h2 className=\"element__name\">{card.name}</h2>\n        <div className=\"element__like-container\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;","import React, { useContext } from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddCard, onClickCard, cards, onLikeCard, onDeleteCard }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img src={currentUser.avatar} alt=\"Аватар пользователя\" className=\"profile__avatar\" />\n        <div className=\"profile__avatar-edit-btn\" onClick={onEditAvatar}></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-btn\" aria-label=\"Редактировать профиль\" type=\"button\" onClick={onEditProfile}></button>\n          <p className=\"profile__status\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-btn\" aria-label=\"Добавить фотокарточку\" type=\"button\" onClick={onAddCard}></button>\n      </section>\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            card={card}\n            key={card._id}\n            cardOpen={onClickCard}\n            onLikeCard={onLikeCard}\n            onDeleteCard={onDeleteCard}\n          />\n        ))}\n      </section>\n    </main>\n  )\n};\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  const today = new Date();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {today.getFullYear()} Mesto Russia</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n\n","import React, { useEffect } from 'react';\n\nfunction ImagePopup({ card, isOpen, onClose }) {\n  const keyEscapeSelector = 'Escape';\n\n  function handleEventClose() {\n    onClose();\n  };\n\n  function handleOverlayClose(event) {\n    if (event.target === event.currentTarget) {\n      handleEventClose();\n    }\n  };\n\n  useEffect(() => {\n    function handleEscClose(event) {\n      if (event.key === keyEscapeSelector) {\n        handleEventClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscClose);\n    } else {\n      document.removeEventListener('keydown', handleEscClose);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n\n  return (\n    <section className={`popup popup-open ${card && isOpen ? \"popup_active\" : ''}`} onClick={handleOverlayClose}>\n      <div className=\"popup-open__window\">\n        <button className=\"popup__close popup-open__close-btn\" type=\"button\" onClick={handleEventClose}></button>\n        <figure className=\"popup-open__figure\">\n          <img src={card.link} alt={card.name} className=\"popup-open__image\" />\n          <figcaption className=\"popup-open__figcaption\">{card.name}</figcaption>\n        </figure>\n      </div>\n    </section>\n  );\n};\n\nexport default ImagePopup;","import React from 'react';\n\nfunction Spinner() {\n  return (\n    <div className=\"content__spinner-wrapper\">\n      <div className=\"content__spinner\" />\n    </div>\n  );\n};\n\nexport default Spinner;","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  };\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      console.log(`Ошибка: ${res.status}`);\n      return Promise.reject(res.statusText);\n    }\n  };\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this.headers\n    })\n      .then(this._handleResponse);\n  };\n\n  setUserInfo(name, status) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: status,\n      })\n    })\n      .then(this._handleResponse);\n  };\n\n  setUserAvatar(link) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n      .then(this._handleResponse);\n  };\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'GET',\n      headers: this.headers\n    })\n      .then(this._handleResponse);\n  };\n\n  addCard(name, link) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._handleResponse);\n  };\n\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(this._handleResponse);\n  };\n\n  changeLikeCardStatus(cardId, setLike) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      method: setLike ? 'PUT' : 'DELETE',\n      headers: this.headers\n    })\n      .then(this._handleResponse);\n  };\n\n  getInitialData() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()])\n  };\n};\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  headers: {\n    authorization: '159b35a8-d58e-44ce-a10d-31006f74b905',\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*'\n  }\n});\n\nexport default api;","import React, { useEffect } from 'react';\n\nfunction PopupWithForm({ name, isOpen, onClose, title, children, submitButtonText, onSubmit, submitDisabled }) {\n  const keyEscapeSelector = 'Escape';\n\n  function handleEventClose() {\n    onClose();\n  };\n\n  function handleOverlayClose(event) {\n    if (event.target === event.currentTarget) {\n      handleEventClose();\n    }\n  };\n\n  useEffect(() => {\n    function handleEscClose(event) {\n      if (event.key === keyEscapeSelector) {\n        handleEventClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscClose);\n    } else {\n      document.removeEventListener('keydown', handleEscClose);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n\n  return (\n    <section className={`popup popup-${name} ${isOpen && \"popup_active\"}`} onClick={handleOverlayClose}>\n      <div className={`popup-${name}__window`}>\n        <button className={`popup__close popup-${name}__close-btn`} type=\"button\" onClick={handleEventClose}></button>\n        <form className={`form form-${name}`} name={name} onSubmit={onSubmit} noValidate>\n          <h2 className={`form-${name}__title`}>{title}</h2>\n          {children}\n          <button className={`form__btn form-${name}__save-btn`} type=\"submit\" disabled={submitDisabled}>{submitButtonText}</button>\n        </form>\n      </div>\n    </section >\n  );\n};\n\nexport default PopupWithForm;","export const formInputClass = {\n  inputErrorClass: 'form__input_type_error',\n  errorClass: 'form__input-error_active'\n}\n\nexport const validateField = (validator, fieldName) => {\n  return Object.keys(validator)\n    .map((errorKey) => {\n      const errorResult = validator[errorKey](fieldName);\n      return { [errorKey]: errorResult };\n    })\n    .reduce((acc, item) => ({ ...acc, ...item }), {});\n};","import { useState, useCallback } from 'react';\n\nexport function useFormValidation() {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(true);\n\n  const handleChange = (elem) => {\n    const {name, value} = elem.target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: elem.target.validationMessage });\n    setIsValid(elem.target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback((newValues = {}, newErrors = {}, newIsValid = false) => {\n    setValues(newValues);\n    setErrors(newErrors);\n    setIsValid(newIsValid)\n  }, [setValues, setErrors, setIsValid]);\n\n  return { values, handleChange, errors, isValid, resetForm };\n}","import React, { useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { formInputClass } from '../utils/constants.js';\nimport { useFormValidation } from '../hooks/useFormValidation.js';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, onRender }) {\n  const currentUser = useContext(CurrentUserContext);\n  const { values, handleChange, errors, isValid, resetForm } = useFormValidation()\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateUser({\n      name: values.name,\n      about: values.status\n    });\n  };\n\n  useEffect(() => {\n    resetForm();\n    if (isOpen) {\n      resetForm({ name: currentUser.name, status: currentUser.about }, {}, true);\n    };\n  }, [currentUser, isOpen, resetForm]);\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      submitButtonText={onRender ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      submitDisabled={!isValid}\n    >\n      <fieldset className=\"form-edit__fieldset\">\n        <label className=\"form__field\">\n          <input\n            className={`form__input form-edit__input ${errors.name ? formInputClass.inputErrorClass : \"\"}`}\n            type=\"text\"\n            id=\"profile-name\"\n            name=\"name\"\n            placeholder=\"Имя пользователя\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            required\n            value={values.name || \"\"}\n            onChange={handleChange}\n          />\n          <span className={`form__input-error ${formInputClass.errorClass}`} id=\"profile-name-error\">{errors.name || \"\"}</span>\n        </label>\n        <label className=\"form__field\">\n          <input\n            className={`form__input form-edit__input ${errors.status ? formInputClass.inputErrorClass : \"\"}`}\n            type=\"text\"\n            id=\"profile-status\"\n            name=\"status\"\n            placeholder=\"Статус\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            value={values.status || \"\"}\n            onChange={handleChange}\n          />\n          <span className={`form__input-error ${formInputClass.errorClass}`} id=\"profile-status-error\">{errors.status || \"\"}</span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;","import React, { useContext, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { formInputClass } from '../utils/constants.js';\nimport { useFormValidation } from '../hooks/useFormValidation.js';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onRender }) {\n  const currentUser = useContext(CurrentUserContext);\n  const { values, handleChange, errors, isValid, resetForm } = useFormValidation()\n  \n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateAvatar({\n      avatar: values.link\n    });\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      resetForm({ avatar: currentUser.avatar }, {}, false)\n    } else {\n      resetForm();\n    };\n  }, [isOpen, currentUser, resetForm]);\n\n  return (\n    <PopupWithForm\n      name=\"avatar-edit\"\n      title=\"Новый аватар\"\n      submitButtonText={onRender ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      submitDisabled={!isValid}\n    >\n      <fieldset className=\"form-avatar-edit__fieldset\">\n        <label className=\"form__field\">\n          <input\n            className={`form__input form-avatar-edit__input ${errors.link ? formInputClass.inputErrorClass : \"\"}`}\n            type=\"url\"\n            id=\"avatar-link\"\n            name=\"link\"\n            placeholder=\"Ссылка на аватар\"\n            required\n            // ref={avatarLink}\n            onChange={handleChange}\n            pattern=\"https?://.+\"\n          />\n          <span\n            className={`form__input-error ${formInputClass.errorClass}`}\n            id=\"avatar-link-error\"\n          >{errors.link || \"\"}</span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { formInputClass } from '../utils/constants.js';\nimport { useFormValidation } from '../hooks/useFormValidation.js';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddCard, onRender }) {\n  const { values, handleChange, errors, isValid, resetForm } = useFormValidation()\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onAddCard(values);\n  };\n\n  useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новая фотокарточка\"\n      submitButtonText={onRender ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      submitDisabled={!isValid}\n    >\n      <fieldset className=\"form-add__fieldset\">\n        <label className=\"form__field\">\n          <input\n            className={`form__input form-add__input ${errors.name ? formInputClass.inputErrorClass : \"\"}`}\n            type=\"text\"\n            id=\"card-name\"\n            name=\"name\"\n            placeholder=\"Название карточки\"\n            minLength=\"2\"\n            maxLength=\"30\"\n            required\n            value={values.name || \"\"}\n            onChange={handleChange}\n          />\n          <span className={`form__input-error ${formInputClass.errorClass}`} id=\"card-name-error\">{errors.name || \"\"}</span>\n        </label>\n        <label className=\"form__field\">\n          <input\n            className={`form__input form-add__input ${errors.link ? formInputClass.inputErrorClass : \"\"}`}\n            type=\"url\"\n            id=\"card-link\"\n            name=\"link\"\n            placeholder=\"Ссылка на фотографию\"\n            required\n            value={values.link || \"\"}\n            onChange={handleChange}\n            pattern=\"https?://.+\"\n          />\n          <span className={`form__input-error ${formInputClass.errorClass}`} id=\"card-link-error\">{errors.link || \"\"}</span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction DeleteCardPopup({ isOpen, onClose, card, onDeleteCard, onRender }) {\n  function handleSubmit(event) {\n    event.preventDefault();\n    onDeleteCard(card);\n  };\n\n  return (\n    <PopupWithForm\n      name=\"delete\"\n      title=\"Удалить фотокарточку?\"\n      isOpen={isOpen}\n      onClose={onClose}\n      submitButtonText={onRender ? \"Удаление...\" : \"Да\"}\n      onSubmit={handleSubmit}\n    />\n  );\n};\n\nexport default DeleteCardPopup;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component { ...props } /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import React, { useState, useEffect, useCallback } from 'react';\nimport { validateField } from '../utils/constants.js';\n\nconst minInputLength = 4;\nconst validationConfig = {\n  email: {\n    required: (value) => value === '',\n    minLength: (value) => value.length < minInputLength\n  },\n  password: {\n    required: (value) => value === '',\n    email: (value) => /^.+@\\w+\\.\\w{2,3}/gm.test(value)\n  }\n}\n\nfunction Login({ handleLogin, onRender }) {\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [formValues, setFormValues] = useState({\n    email: '',\n    password: ''\n  });\n  const [errors, setErrors] = useState({\n    email: {\n      required: true,\n      email: true\n    },\n    password: {\n      required: true,\n      minLength: true\n    }\n  });\n  const { email, password } = formValues;\n  const isEmailInvalid = Object.values(errors.email).some(Boolean);\n  const isPasswordInvalid = Object.values(errors.password).some(Boolean);\n  const isSubmitDisabled = isPasswordInvalid || isEmailInvalid;\n  const isEmailValid = errors.email.required || errors.email.email;\n  const isPasswordValid = errors.password.required || errors.password.minLength;\n  const isInactive = isDisabled || isSubmitDisabled || onRender;\n  \n  function handleSubmit(event) {\n    event.preventDefault();\n    handleLogin(formValues.email, formValues.password);\n    setIsDisabled(true);\n  };\n\n  const handleInputChange = useCallback((event) => {\n      setIsDisabled(false);\n      const {name, value} = event.target;\n      setFormValues((state) => ({ ...state, [name]: value }));\n  }, [setFormValues]);\n\n  useEffect(\n    function validateInputs() {\n      const { email, password } = formValues;\n      const passwordValidation = validateField(validationConfig.password, password);\n      const emailValidation = validateField(validationConfig.email, email);\n      setErrors({\n        email: emailValidation,\n        password: passwordValidation\n      });\n    }, [formValues, setErrors]\n  );\n\n  useEffect(() => {\n    setIsDisabled(true);\n    return () => {\n      setFormValues({\n        email: '',\n        password: ''\n      });\n    };\n  }, []);\n\n  return (\n    <section className=\"login\">\n      <div className=\"login__container\">\n        <h2 className=\"login__title\">Вход</h2>\n        <form name=\"login\" className=\"form-login\" onSubmit={handleSubmit} noValidate>\n          <fieldset className=\"form-login__fieldset\">\n            <label className=\"form__field\">\n              <input\n                className={`form__input form__input_position_sign ${isDisabled ? '' : isEmailInvalid}`}\n                type=\"email\"\n                id=\"login-email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                required\n                value={email}\n                onChange={handleInputChange}\n              />\n              <span className={`form__error ${isDisabled ? '' : isEmailInvalid && 'form__error_active'}`}>{isEmailValid ? errors.email.required\n                ? 'Обязательное поле'\n                : 'Введите email'\n              : ''}</span>\n            </label>\n            <label className=\"form__field\">\n              <input\n                className={`form__input form__input_position_sign ${isDisabled ? '' : isPasswordInvalid}`}\n                type=\"password\"\n                id=\"login-password\"\n                name=\"password\"\n                placeholder=\"Пароль\"\n                minLength={minInputLength}\n                required\n                value={password}\n                onChange={handleInputChange}\n              />\n              <span className={`form__error ${isDisabled ? '' : isPasswordInvalid && 'form__error_active'}`}>{isPasswordValid ? errors.password.required\n                ? 'Обязательное поле'\n                : `Введите пароль из не менее ${minInputLength} символов`\n              : ''}</span>\n            </label>\n          </fieldset>\n          <button\n            type=\"submit\"\n            className={`form__btn form__btn_position_sign ${isInactive && 'form__btn_disabled'}`}\n            disabled={isInactive}\n          >{onRender ? 'Авторизация...' : 'Войти'}</button>\n        </form>\n        <p className=\"login__auth-text\">&nbsp;</p>\n      </div>\n    </section>\n  )\n}\n\nexport default Login;","import React, { useState, useEffect, useCallback } from 'react';\nimport { validateField } from '../utils/constants.js';\nimport { Link } from 'react-router-dom';\n\nconst minInputLength = 4;\nconst validationConfig = {\n  email: {\n    required: (value) => value === '',\n    minLength: (value) => value.length < minInputLength\n  },\n  password: {\n    required: (value) => value === '',\n    email: (value) => /^.+@\\w+\\.\\w{2,3}/gm.test(value)\n  }\n}\n\nfunction Register({ handleRegister, onRender }) {\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [formValues, setFormValues] = useState({\n    email: '',\n    password: ''\n  });\n  const [errors, setErrors] = useState({\n    email: {\n      required: true,\n      email: true\n    },\n    password: {\n      required: true,\n      minLength: true\n    }\n  });\n  const { email, password } = formValues;\n  const isEmailInvalid = Object.values(errors.email).some(Boolean);\n  const isPasswordInvalid = Object.values(errors.password).some(Boolean);\n  const isSubmitDisabled = isPasswordInvalid || isEmailInvalid;\n  const isEmailValid = errors.email.required || errors.email.email;\n  const isPasswordValid = errors.password.required || errors.password.minLength;\n  const isInactive = isDisabled || isSubmitDisabled || onRender;\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    handleRegister(formValues.email, formValues.password);\n    setIsDisabled(true);\n  };\n\n  const handleInputChange = useCallback((event) => {\n      setIsDisabled(false);\n      const {name, value} = event.target;\n      setFormValues((state) => ({ ...state, [name]: value }));\n  }, [setFormValues]);\n\n  useEffect(\n    function validateInputs() {\n      const { email, password } = formValues;\n      const passwordValidation = validateField(validationConfig.password, password);\n      const emailValidation = validateField(validationConfig.email, email);\n      setErrors({\n        email: emailValidation,\n        password: passwordValidation\n      });\n    }, [formValues, setErrors]\n  );\n\n  useEffect(() => {\n    setIsDisabled(true);\n    return () => {\n      setFormValues({\n        email: '',\n        password: ''\n      });\n    };\n  }, []);\n\n  return (\n    <section className=\"login\">\n      <div className=\"login__container\">\n        <h2 className=\"login__title\">Регистрация</h2>\n        <form name=\"login\" className=\"form-login\" onSubmit={handleSubmit} noValidate>\n          <fieldset className=\"form-login__fieldset\">\n            <label className=\"form__field\">\n              <input\n                className={`form__input form__input_position_sign ${isDisabled ? '' : isEmailInvalid}`}\n                type=\"email\"\n                id=\"login-email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                required\n                value={email}\n                onChange={handleInputChange}\n              />\n              <span className={`form__error ${isDisabled ? '' : isEmailInvalid && 'form__error_active'}`}>{isEmailValid ? errors.email.required\n                ? 'Обязательное поле'\n                : 'Введите email'\n              : ''}</span>\n            </label>\n            <label className=\"form__field\">\n              <input\n                className={`form__input form__input_position_sign ${isDisabled ? '' : isPasswordInvalid}`}\n                type=\"password\"\n                id=\"login-password\"\n                name=\"password\"\n                placeholder=\"Пароль\"\n                minLength={minInputLength}\n                required\n                value={password}\n                onChange={handleInputChange}\n              />\n              <span className={`form__error ${isDisabled ? '' : isPasswordInvalid && 'form__error_active'}`}>{isPasswordValid ? errors.password.required\n                ? 'Обязательное поле'\n                : `Введите пароль из не менее ${minInputLength} символов`\n              : ''}</span>\n            </label>\n          </fieldset>\n          <button\n            type=\"submit\"\n            className={`form__btn form__btn_position_sign ${isInactive && 'form__btn_disabled'}`}\n            disabled={isInactive}\n          >{onRender ? 'Аутентификация...' : 'Зарегистрироваться'}</button>\n        </form>\n        <p className=\"login__auth-text\">\n          Уже зарегистрированы?&nbsp;\n          <Link to=\"/sign-in\" className=\"login__auth\">Войти</Link>\n        </p>\n      </div>\n    </section>\n  )\n}\n\nexport default Register;","export default __webpack_public_path__ + \"static/media/notfound.4a3f47e6.gif\";","import React from 'react';\nimport error from '../images/notfound/notfound.gif';\nimport { useHistory } from 'react-router-dom';\n\nfunction NotFound() {\n  let history = useHistory();\n  \n  function handleClick() {\n    history.push('/');\n  };\n\n  return (\n    <section className=\"notfound\">\n      <h1 className=\"notfound__title\">404 Punished</h1>\n      <img src={error} alt=\"404 Page Not Found\" className=\"notfound__error\" onClick={handleClick} />\n      <p className=\"notfound__subtitle\">Страница не найдена</p>\n    </section>\n  );\n};\n\nexport default NotFound;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const handleResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(res.status);\n  }\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n  .then((res) => handleResponse(res));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((res) => handleResponse(res));\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  })\n  .then((res) => handleResponse(res));\n}","import React from 'react';\n\nfunction NavMenu({ email, onSignOut}) {\n  return (\n    <div className=\"navmenu\">\n      <ul className=\"navmenu__content\">\n        <li className=\"navmenu__item\">\n          <p className=\"navmenu__element\">{email}</p>\n        </li>\n        <li className=\"navmenu__item\">\n          <button\n            onClick={onSignOut}\n            className=\"navmenu__element navmenu__element_btn\"\n          >Выйти</button>\n        </li>\n      </ul>\n    </div>\n  );\n\n};\n\nexport default NavMenu;","export default __webpack_public_path__ + \"static/media/registration-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/registration-error.df8eddf6.svg\";","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport regSuccess from '../images/infotooltip/registration-success.svg';\nimport regError from '../images/infotooltip/registration-error.svg';\n\nfunction InfoTooltip({ isOpen, onClose, onRegister, registration }) {\n  let history = useHistory();\n  \n  function handleOverlayClose(event) {\n    if (event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <section className={`popup popup-tooltip ${isOpen && \"popup_active\"}`} onClick={handleOverlayClose}>\n      <div className=\"popup-tooltip__window\">\n        <button\n          onClick={() => {\n            onClose();\n            registration && history.push('/sign-in');\n            onRegister(false);\n          }}\n          type=\"button\"\n          className=\"popup__close popup-tooltip__close-btn\"\n        />\n        <img\n          className=\"popup-tooltip__image\"\n          src={ registration ? regSuccess : regError }\n          alt=\"Статус регистрации\"\n        />\n        <h2 className=\"popup-tooltip__title\">\n          {registration ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так. Попробуйте ещё раз.'}\n        </h2>\n      </div>\n    </section>\n  )\n}\n\nexport default InfoTooltip;","import '../index.css';\nimport React, { useState, useEffect } from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport Spinner from './Spinner.js';\nimport api from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport DeleteCardPopup from './DeleteCardPopup.js';\nimport { Switch, Redirect, Route, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport NotFound from './NotFound.js';\nimport * as auth from '../utils/auth.js';\nimport NavMenu from './NavMenu';\nimport InfoTooltip from './InfoTooltip.js';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [currentCardDelete, setCurrentCardDelete] = useState({})\n  const [authState, setAuthState] = useState({\n    loggedIn: false,\n    email: null\n  });\n  const [registrationSuccess, setRegistrationSuccess] = useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n\n  const history = useHistory();\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddCardClick() {\n    setIsAddCardPopupOpen(true);\n  };\n\n  function handleCardClick(selectedCard) {\n    setSelectedCard(selectedCard);\n    setIsImagePopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setSelectedCard({});\n    setIsImagePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n  };\n\n  function handleUserUpdate(newUser) {\n    setIsProcessing(true);\n    api.setUserInfo(newUser.name, newUser.about)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Невозможно сохранить новые данные пользователя. Ошибка ${err}`);\n      })\n      .finally(() => {\n        setIsProcessing(false);\n      });\n  };\n\n  function handleAvatarUpdate(newAvatar) {\n    setIsProcessing(true);\n    api.setUserAvatar(newAvatar.avatar)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Невозможно сохранить новый аватар. Ошибка ${err}`);\n      })\n      .finally(() => {\n        setIsProcessing(false);\n      });\n  };\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((likeCard) => likeCard._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((prevCard) => prevCard._id === card._id ? newCard : prevCard));\n      })\n      .catch((err) => {\n        console.error(`Событие невозможно выполнить. Ошибка ${err}`);\n      });\n  };\n\n  function handleCardDelete(card) {\n    setCurrentCardDelete(card);\n    setIsDeleteCardPopupOpen(true);\n  };\n\n  function handleCardDeleteSubmit(card) {\n    setIsProcessing(true);\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((prevCard) => prevCard._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Невозможно удалить карточку. Ошибка ${err}`);\n      })\n      .finally(() => {\n        setIsProcessing(false);\n      });\n  };\n\n  function handleAddCardSubmit(newCard) {\n    setIsProcessing(true);\n    api.addCard(newCard.name, newCard.link)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Невозможно добавить новую карточку. Ошибка ${err}`);\n      })\n      .finally(() => {\n        setIsProcessing(false);\n      });\n  };\n\n  function handleTokenCheck() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.checkToken(token)\n        .then((res) => {\n          if (res) {\n            setAuthState({\n              loggedIn: true,\n              email: res.data.email\n            });\n            history.push('/');\n          }\n        })\n        .catch(err => {\n          console.log(`Авторизация невозможна. Ошибка аутентификации JWT-токена ${err}`);\n        });\n    }\n  };\n\n  function handleLogin(email, password) {\n    setIsProcessing(true);\n    auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n          handleTokenCheck();\n          setAuthState((prevState) => ({\n            ...prevState,\n            loggedIn: true\n          }));\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        switch (err) {\n          case 400:\n            console.log('Ошибка 400. Не передано одно из полей.');\n            break;\n          case 401:\n            console.log(`Ошибка 401. Пользователь ${email} не найден.`);\n            break;\n          default:\n            console.log(`Аутентификация не пройдена. Ошибка ${err}`);\n        };\n      })\n      .finally(() => {\n        setIsProcessing(false);\n      });\n  };\n\n  function handleSignOut() {\n    setAuthState({\n      loggedIn: false,\n      email: null\n    });\n    localStorage.removeItem('token');\n    history.push('/sign-in');\n  };\n\n  function handleRegister(email, password) {\n    setIsProcessing(true);\n    auth.register(email, password)\n      .then((res) => {\n        if (!res.error) {\n          setIsInfoTooltipPopupOpen(true);\n          setRegistrationSuccess(true);\n        } else {\n          setIsInfoTooltipPopupOpen(true);\n        }\n      })\n      .catch((err) => {\n        switch (err) {\n          case 400:\n            console.log('Ошибка 400. Некорректно заполнено одно из полей.');\n            break;\n          default:\n            console.log(`Регистрация не выполнена. Ошибка ${err}`);\n        };\n        setIsInfoTooltipPopupOpen(true);\n      })\n      .finally(() => {\n        setIsProcessing(false);\n      });\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    handleTokenCheck();\n    api.getInitialData()\n      .then(res => {\n        const [userData, cardsData] = res;\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch(err => {\n        console.log(`Невозможно загрузить данные с сервера. Ошибка ${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"page\">\n    {isLoading ? (\n      <Spinner />\n    ) : (\n      <>\n        <CurrentUserContext.Provider value={currentUser}>\n          {authState.loggedIn &&\n            <NavMenu\n              onSignOut={handleSignOut}\n              email={authState.email}\n            />\n          }\n          <Header\n            onSignOut={handleSignOut}\n            email={authState.email}\n          />\n          <Switch>\n            <ProtectedRoute\n            path=\"/\" exact\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddCard={handleAddCardClick}\n            onClickCard={handleCardClick}\n            cards={cards}\n            onLikeCard={handleCardLike}\n            onDeleteCard={handleCardDelete}\n            loggedIn={authState.loggedIn}\n            email={authState.email}\n            />\n            <Route path=\"/sign-in\">\n              <Login\n                handleLogin={handleLogin}\n                email={authState.email}\n                onRender={isProcessing}\n              />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register\n                handleRegister={handleRegister}\n                onRender={isProcessing}\n              />\n            </Route>\n            <Route path=\"*\">\n              <NotFound />\n            </Route>\n            <Route path=\"/\">\n              {authState.loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n          </Switch>\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUserUpdate}\n            onRender={isProcessing}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleAvatarUpdate}\n            onRender={isProcessing}\n          />\n          <AddPlacePopup\n            isOpen={isAddCardPopupOpen}\n            onClose={closeAllPopups}\n            onAddCard={handleAddCardSubmit}\n            onRender={isProcessing}\n          />\n          <DeleteCardPopup\n            isOpen={isDeleteCardPopupOpen}\n            onClose={closeAllPopups}\n            card={currentCardDelete}\n            onDeleteCard={handleCardDeleteSubmit}\n            onRender={isProcessing}\n          />\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            isOpen={isImagePopupOpen}\n          />\n          <InfoTooltip\n            isOpen={isInfoTooltipPopupOpen}\n            onClose={closeAllPopups}\n            onRegister={setRegistrationSuccess}\n            registration={registrationSuccess}\n          />\n        </CurrentUserContext.Provider>\n      </>\n    )}\n    </div>\n  );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals.js';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}